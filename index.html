<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ECAM Trainer - A320 Training Tool for pilots and aviation enthusiasts">
<title>ECAM Trainer - A320 Training Tool</title>

<style>
/* ===== GLOBAL ===== */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: #0a0e1a;
  color: #ffffff;
  overflow-x: hidden;
}

.header {
  background: #1a1f2e;
  border-bottom: 2px solid #ffffff;
  padding: 8px 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  flex: 0 0 auto;
  position: relative;
}

.header-center {
  flex: 1;
  text-align: center;
  font-size: 11px;
  color: #999;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 20px;
  position: absolute;
  left: 15px;
}

.header-title {
  margin: 0;
  font-size: 18px;
  font-weight: bold;
}

.header-aircraft {
  font-size: 14px;
}

.header-status {
  color: #999;
  font-weight: normal;
  font-size: 9px;
  position: absolute;
  right: 15px;
}

.app {
  display: flex;
  width: 100%;
  height: calc(100vh - 100px);
  padding: 8px;
  gap: 8px;
  flex-direction: column;
  overflow-y: auto;
}

.footer {
  background: #1a1f2e;
  border-top: 2px solid #ffffff;
  padding: 8px 15px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex: 0 0 auto;
}

.footer-left {
  font-size: 11px;
  color: #999;
}

.footer-buttons {
  display: flex;
  gap: 10px;
}

.footer-btn {
  background: #1a1f2e;
  border: 2px solid #ffffff;
  color: #ffffff;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
  transition: 0.3s;
}

.footer-btn:hover {
  background: #ffffff;
  color: #0a0e1a;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
}

/* ===== MODAL ===== */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
}

.modal-content {
  background-color: #1a1f2e;
  margin: 5% auto;
  padding: 20px;
  border: 2px solid #ffffff;
  width: 80%;
  max-width: 700px;
  max-height: 80vh;
  overflow-y: auto;
}

.modal-header {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 15px;
  border-bottom: 2px solid #ffffff;
  padding-bottom: 10px;
}

.modal-text {
  font-size: 13px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.modal-close {
  background: #ffffff;
  border: 2px solid #ffffff;
  color: #0a0e1a;
  padding: 10px 20px;
  cursor: pointer;
  font-weight: bold;
  margin-top: 15px;
  transition: 0.3s;
}

.modal-close:hover {
  background: #e0e0e0;
}

/* ===== FAILURE MODAL ===== */
#failure-modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
}

#failure-modal-content {
  background-color: #1a1f2e;
  margin: 5% auto;
  padding: 20px;
  border: 2px solid #ffffff;
  width: 80%;
  max-width: 700px;
  max-height: 80vh;
  overflow-y: auto;
}

#failure-modal-header {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 15px;
  border-bottom: 2px solid #ffffff;
  padding-bottom: 10px;
}

#failure-modal-body {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.failure-btn {
  background: linear-gradient(to right, #0a0e1a 0%, #1a1f2e 51%, #0a0e1a 100%);
  border: 2px solid #ffffff;
  color: #ffffff;
  padding: 12px;
  cursor: pointer;
  font-size: 11px;
  font-weight: bold;
  text-align: center;
  transition: 0.5s;
  background-size: 200% auto;
}

.failure-btn:hover {
  background-position: right center;
  background-image: linear-gradient(to right, #ffffff 0%, #e0e0e0 51%, #ffffff 100%);
  color: #0a0e1a;
}

.left-side {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
  overflow: hidden;
  width: 100%;
}

/* ===== CHAPTER LIST ===== */
.chapter-panel {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 4px;
  flex: 1;
  overflow-y: auto;
}

.btn-grad {
  background-image: linear-gradient(to right, #0a0e1a 0%, #1a1f2e 51%, #0a0e1a 100%);
  margin: 0;
  padding: 0;
  text-align: center;
  text-transform: uppercase;
  transition: 0.5s;
  background-size: 200% auto;
  color: #ffffff;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
  border: 2px solid #ffffff;
  cursor: pointer;
  font-weight: bold;
  font-size: 12px;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-grad:hover {
  background-position: right center;
  background-image: linear-gradient(to right, #ffffff 0%, #e0e0e0 51%, #ffffff 100%);
  color: #0a0e1a;
  box-shadow: 0 0 25px rgba(255, 255, 255, 0.8);
}

/* ===== RESPONSIVE ===== */
@media screen and (max-width: 1024px) {
  /* Pour tablettes (iPad) */
  .chapter-panel {
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  }
  
  .btn-grad {
    font-size: 11px;
    padding: 10px;
  }
}

@media screen and (max-width: 768px) {
  /* Pour téléphones */
  .header {
    flex-direction: column;
    padding: 10px;
  }
  
  .header-left {
    position: relative;
    left: 0;
    flex-direction: column;
    text-align: center;
  }
  
  .header-status {
    position: relative;
    right: 0;
    margin-top: 5px;
  }
  
  .header-center {
    order: 3;
    width: 100%;
  }
  
  .chapter-panel {
    grid-template-columns: repeat(2, 1fr);
    gap: 6px;
  }
  
  .btn-grad {
    font-size: 10px;
    padding: 12px 8px;
  }
  
  .footer {
    flex-direction: column;
    text-align: center;
  }
  
  .footer-buttons {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .footer-btn {
    font-size: 11px;
    padding: 6px 12px;
  }
  
  .modal-content {
    width: 95%;
    margin: 10% auto;
  }
  
  #failure-modal-content {
    width: 95%;
  }
  
  #failure-modal-body {
    grid-template-columns: 1fr;
  }
}

@media screen and (max-width: 480px) {
  /* Pour petits téléphones */
  .header-title {
    font-size: 16px;
  }
  
  .header-aircraft {
    font-size: 12px;
  }
  
  .chapter-panel {
    grid-template-columns: 1fr;
  }
  
  .footer-btn {
    width: 100%;
  }
  
  .app {
  height: auto;
  min-height: calc(100vh - 150px);
}

.chapter-panel {
  height: auto;
  min-height: 400px;
}
}

</style>
</head>

<body>

<div class="header">
  <div class="header-left">
    <h1 class="header-title">ECAM TRAINER</h1>
    <div class="header-aircraft">Aircraft: A320F</div>
  </div>
  <div class="header-center">
    <span style="color: #ffffff; font-size: 13px; font-weight: bold;">Connection status:</span> 
    <span style="color: #00ff00; font-size: 13px; font-weight: bold;">Connected</span>
  </div>
  <div class="header-status">Last update: December 2025</div>
</div>

<div class="app">
  <div class="left-side">
    <div class="chapter-panel" id="chapters"></div>
  </div>
</div>

<div class="footer">
  <div class="footer-left">Version 1.0 | December 2025</div>
  <div class="footer-buttons">
    <button class="footer-btn" onclick="showMore()">Learn More</button>
    <button class="footer-btn" onclick="showLegal()">Legal Notice</button>
    <button class="footer-btn" onclick="showDisclaimer()">Disclaimer</button>
    <button class="footer-btn" onclick="showContact()">Contact</button>
  </div>
</div>

<!-- MODALS -->
<div id="modal" class="modal">
  <div class="modal-content">
    <div class="modal-header" id="modal-header">Modal Title</div>
    <div class="modal-text" id="modal-body">Modal content here</div>
    <button class="modal-close" onclick="closeModal()">CLOSE</button>
  </div>
</div>

<div id="failure-modal">
  <div id="failure-modal-content">
    <div id="failure-modal-header">System</div>
    <div id="failure-modal-body"></div>
    <button class="modal-close" onclick="closeFailureModal()" style="margin-top: 15px; width: 100%;">CLOSE</button>
  </div>
</div>

<script>
/* ===== SELECT FAILURE DATA ===== */
const failures = {
  "A-ICE": ["A-ICE ENGINE SYS FAULT", "A.ICE WING SYS FAULT",],
  "AIR": ["PACK 1 REGUL FAULT", "PACK 1 OVHT", "PACK 1 FAULT", "L WING LEAK", "ENG 2 BLEED LO TEMP"],
  "APU": ["APU FIRE (IN FLIGHT)", "APU FIRE (ON GROUND)","APU AUTO SHUT DOWN", "APU BLEED FAULT", "APU GEN FAULT", "APU OVERSPEED", "APU EGT OVER LIMIT"],
  "AUTO FLT": ["A/THR OFF", "FAC 1 FAULT", "FAC 1+2 FAULT", "FCU 1 FAULT", "FCU 1+2 FAULT", "DUAL FMGC FAILURE", "TCAS MODE FAULT"],
  "AVNCS SMOKE": ["AVNCS SMOKE DETECTED"],
  "BLEED": ["BLEED A-ICE FAULT", "BLEED VALVE FAULT", "BLEED OVERPRESS", "BLEED UNAVAILABLE", "BLEED LO PR"],
  "BRAKES": ["BRAKES SYS 1 FAULT", "BRAKES HOT (GROUND)", "BRAKES HOT (AIR)", "NWS FAULT", "NWS INOPERATIVE"],
  "CAB PR": ["EXCESS CAB ALT", "SYS 1+2 FAULT"],
  "COM": ["VHF 1 FAULT", "VHF 2 FAULT", "HF FAULT"],
  "COND": ["COND PACK FAULT", "COND OVERPRESSURE"],
  "DOOR": ["DOOR AFT CARGO"],
  "ELEC": ["ELEC GEN 1 FAULT", "ELEC GEN 2 FAULT", "ELEC BAT FAULT", "ELEC AC BUS FAULT", "ELEC DC BUS FAULT", "ELEC AC ESS BUS FAULT", "ELEC GEN 1 LINE FAULT", "ELEC GEN 2 LINE FAULT", "ELEC APU GEN FAULT", "ELEC RAM AIR TURBINE FAULT", "ELEC BATTERY CHARGER FAULT", "ELEC STATIC INVERTER FAULT"],
  "ENG": ["ENG 2 FIRE (IN FLIGHT)", "ENG 2 FIRE (ON GROUND)","ENG 2 FAIL (NO DAMAGE)", "ENG 2 FAIL (WITH DAMAGE)","ENG 2 OIL LO PR", "ENG 2 EGT OVER LIMIT", "ENG 2 EIU FAULT", "ENG 2 FADEC FAULT", "ENG 2 OIL HI TEMP", "ENG 2 THR LEVER FAULT", "ENG FADEC A+B FAULT", "ENG EFATO"],
  "FLIGHT CTL": ["FLAP SYS 1 FAULT", "FLAPS LOCKED", "ELAC 1 FAULT", "ELAC 1+2 FAULT", "SEC 1 FAULT", "SEC 2 FAULT", "SEC 3 FAULT", "SEC 1+2 FAULT", "SEC 1+3 FAULT", "SEC 2+3 FAULT", "SEC 1+2+3 FAULT", "ELAC 1 PITCH FAULT", "L ELEV FAULT", "L+R ELEV FAULT", "STABILIZER JAM", "SPD BRK STILL OUT"],
  "FUEL": ["FUEL L INNER TK HI TEMP", "FUEL L TK PUMP 1+2 LO PR", "FUEL LEAK", "FUEL CENTER TK OVFL", "FUEL CROSSFEED VALVE FAULT"],
  "FWS": ["FWS FAULT", "FWS INOPERATIVE"],
  "HYD": ["HYD G+Y SYS LO PR", "HYD G+B SYS LO PR", "HYD B+Y SYS LO PR", "HYD B RSVR LO AIR PR", "HYD G RSVR LO AIR PR", "HYD Y RSVR LO AIR PR", "HYD B RSVR OVHT", "HYD G RSVR OVHT", "HYD Y RSVR OVHT", "HYD B RSVR LO LVL", "HYD G RSVR LO LVL", "HYD Y RSVR LO LVL", "HYD B ELEC PUMP LO PR", "HYD G ENG 1 PUMP LO PR", "HYD Y ENG 2 PUMP LO PR", "HYD G LO PR (B ON RAT)", "HYD Y LO PR (G ON PTU)"],
  "LANDING GEAR": ["LANDING GEAR NOT UPLOCKED", "LANDING GEAR NOT DOWNLOCKED", "LANDING GEAR LGCIU 1 FAULT", "LANDING GEAR LGCIU 2 FAULT", "LANDING GEAR LGCIU 1+2 FAULT", "LANDING GEAR LGCIU 2 FAULT (GND RESET)"],
  "NAV": ["NAV GPWS FAULT", "NAV RA 1+2 FAULT", "NAV ADR 1 FAULT", "NAV ADR 2 FAULT", "NAV ADR 3 FAULT", "NAV ADR 1+2 FAULT", "NAV ADR 1+3 FAULT", "NAV ADR 2+3 FAULT", "NAV IR FAULT", "NAV IR 1 FAULT", "NAV IR 2 FAULT"],
  "RECORDER": ["RECORDER FAULT"],
  "SMOKE": ["FWD CARGO SMOKE", "COCKPIT SMOKE", "LAVATORY SMOKE", "AIR COND SMOKE", "AVIONICS SMOKE"],
  "SURV": ["SURV SYS FAULT"],
  "VENT": ["VENT AVNCS SYS FAULT"],
  "WHEEL": ["WHEEL N.W STRG FAULT"],
};

const chapters = ["A-ICE", "AIR", "APU", "AUTO FLT", "AVNCS SMOKE", "BLEED", "BRAKES", "CAB PR", "COM", "COND", "DOOR", "ELEC", "ENG", "FLIGHT CTL", "FUEL", "FWS", "HYD", "LANDING GEAR", "NAV", "RECORDER", "SMOKE", "SURV", "VENT", "WHEEL"];

const container = document.getElementById("chapters");
chapters.forEach(name => {
  const b = document.createElement("button");
  b.textContent = name;
  b.className = "btn-grad";
  b.onclick = () => openChapter(name);
  container.appendChild(b);
});

function openChapter(name) {
  showFailures(name);
}

function showFailures(system) {
  const failureList = failures[system] || [];
  if (failureList.length === 0) {
    alert("No failures available for " + system);
    return;
  }
  
  let html = failureList.map(failure => {
    const color = getFailureColor(failure);
    return `<button class="failure-btn" style="${color}" onclick="selectFailure('${system}', '${failure.replace(/'/g, "\\'")}')">${failure}</button>`;
  }).join('');
  
  openFailureModal(system, html);
}

function getFailureColor(failure) {
  const upperFailure = failure.toUpperCase();
  if (upperFailure.includes('FIRE') || upperFailure.includes('DOWNLOCKED') || upperFailure.includes('SMOKE') || upperFailure.includes('FAIL (WITH DAMAGE)') 
  || upperFailure.includes('FAIL)')|| upperFailure.includes('FAIL (NO DAMAGE)') || upperFailure.includes('UPLOCKED') | upperFailure.includes('EXCESS CAB')) {
    return 'background: linear-gradient(to right, #8B0000 0%, #FF0000 51%, #8B0000 100%); box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);';
  }
  return 'background: linear-gradient(to right, #8B4500 0%, #FF8C00 51%, #8B4500 100%); box-shadow: 0 0 20px rgba(255, 140, 0, 0.6);';
}

function selectFailure(system, failure) {
  showProcedurePage(system, failure);
  closeFailureModal();
}

function openFailureModal(title, content) {
  document.getElementById('failure-modal-header').textContent = title;
  document.getElementById('failure-modal-body').innerHTML = content;
  document.getElementById('failure-modal').style.display = 'block';
}

function closeFailureModal() {
  document.getElementById('failure-modal').style.display = 'none';
}
/* ===== PROCEDURE PAGE ===== */
function selectFailure(system, failure) {
  // Handle folder naming conventions:
  // 1. Replace '/' with ':' to match macOS folder names (e.g., "F/CTL" -> "F:CTL")
  // 2. Replace multiple spaces with single space
  const systemFolder = system.replace(/\//g, ':').replace(/\s+/g, ' ');
  
  // Use the full failure name for folder and file
  const failureFolder = failure.replace(/\//g, '-');
  const failureFile = failure.replace(/\//g, '-');
  
  const path = `${systemFolder}/${failureFolder}/${failureFile}.html`;
  
  window.open(path, '_blank');
  closeFailureModal();
}
/* ===== MODALS ===== */
function showLegal() {
  openModal("LEGAL NOTICE", `ECAM Trainer - A320F Training Tool

Owner & Developer
Jean-Baptiste Ducros
Email: ducrosjeanbaptiste@gmail.com

Purpose of the Application: 
This web application is an educational training tool intended solely for learning and practice purposes. It simulates ECAM (Electronic Centralized Aircraft Monitor) displays of the Airbus A320 family to assist pilots and aviation enthusiasts in failure recognition and procedural memorization.
This tool must not be used for real-world flight operations or decision-making.

Intellectual Property & Disclaimer :
ECAM Trainer is an independent, non-commercial educational project.
All trademarks, aircraft designations, system names, and references related to Airbus aircraft remain the exclusive property of Airbus S.A.S.
This application is not affiliated with, endorsed by, sponsored by, or connected to Airbus S.A.S. or any airline operator.

Data Storage & Privacy :
This application uses browser local storage exclusively to save user-created scenarios and preferences.
No personal data is collected, transmitted, or stored on external servers.
All data remains locally on the user’s device.

Contact :
For questions, feedback, or support, please contact:
ducrosjeanbaptiste@gmail.com`);
}

function showDisclaimer() {
  openModal("DISCLAIMER", `FOR TRAINING AND EDUCATIONAL USE ONLY

FOR TRAINING AND EDUCATIONAL USE ONLY
The ECAM Trainer application is provided “as is” and is intended solely for educational and personal training purposes. By accessing or using this application, you acknowledge and agree to the following terms and conditions:

1. No Operational or Certified Use :
This application is NOT approved for use in real-world flight operations, certified flight training devices (FTD), or flight simulators requiring regulatory approval.
It is designed exclusively for personal study, system familiarization, and procedural memorization.

2. Official Documentation Prevails :
Users must always refer to the most current official documentation, including but not limited to:
Flight Crew Operating Manual (FCOM)
Quick Reference Handbook (QRH)
Operational Engineering Bulletins (OEBs)
published by Airbus and the applicable airline operator.
In all cases, official documentation takes precedence over this application.

3. Accuracy, Limitations, and Updates :
While reasonable efforts are made to ensure accuracy, this application may contain errors, omissions, or outdated information.
The developer makes no representations or warranties, express or implied, regarding the accuracy, completeness, or reliability of the content.

4. Limitation of Liability :
The developer shall not be held liable for any direct or indirect consequences arising from the use or misuse of this application.
Users assume full responsibility for their training decisions and outcomes and must independently verify all information through official sources.

5. Not a Substitute for Professional Training :
• This application does not replace:
• Official flight training programs
• Type rating courses
• Recurrent or operator-mandated training
It is provided solely as a supplementary study aid.

6. Changes to Aircraft Systems and Procedures : 
Aircraft systems, operational procedures, and regulations are subject to change at any time.
This application may not reflect the latest revisions, and users are responsible for ensuring compliance with current official publications.

7. User-Provided and Third-Party Content : 
Users may upload their own images or content.
The developer assumes no responsibility or liability for user-generated or third-party content uploaded into the application.

TERMS OF USE :

By using ECAM Trainer, you agree that:

• You are using this tool for personal educational purposes only
• You understand this is not certified training material
• You will not use this tool for commercial purposes without permission
• You will verify all procedures with official documentation
• You accept full responsibility for your use of this application`);
}

function showContact() {
  openModal("CONTACT", `Contact:

For questions, feedback, or support, please contact:

ducrosjeanbaptiste@gmail.com`);
}
function showMore() {
  openModal("LEARN MORE", `To deepen your knowledge of Airbus aircraft systems and operational philosophy, please refer exclusively to official Airbus resources:

Official Airbus Websites :
• Airbus Commercial Aircraft
https://www.airbus.com/en/products-services/commercial-aircraft

• Airbus World (AIRBUS WIN)
https://www.airbus-win.com
(Official Airbus customer portal, access subject to authorization)

• Airbus Training Services
https://www.airbus.com/en/products-services/training-services

•  Airbus Safety and Operations
https://safety.airbus.com

Reference Philosophy : 
• For all operational, technical, and procedural matters, always rely on:
• Official FCOM / QRH
• OEBs and operational notices
Approved airline documentation`)
} 



function openModal(title, content) {
  document.getElementById('modal-header').textContent = title;
  document.getElementById('modal-body').textContent = content;
  document.getElementById('modal').style.display = 'block';
}

function closeModal() {
  document.getElementById('modal').style.display = 'none';
}

window.onclick = function(event) {
  const modal = document.getElementById('modal');
  const failureModal = document.getElementById('failure-modal');
  if (event.target == modal) modal.style.display = 'none';
  if (event.target == failureModal) failureModal.style.display = 'none';
}
</script>

</body>
</html>